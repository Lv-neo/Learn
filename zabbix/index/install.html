<hr>
<p>title: zabbix安装<br>date: 2018-12-17 18:37:47<br>categories: zabbix</p>
<h2 id="tags-zabbix"><a href="#tags-zabbix" class="headerlink" title="tags: zabbix"></a>tags: zabbix</h2><p>＃安装说明</p>
<ul>
<li>agent安装<br>自己写了个脚本，适合简单安装</li>
</ul>
<pre><code>#!/bin/sh
version=3.0.4
zabbix_home=&quot;/usr/local/zabbix&quot;
dir=$(pwd)
url=&quot;http://nchc.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/${version}/zabbix-${version}.tar.gz&quot;
user=zabbix
group=zabbix

echo &quot;the install dir is &quot;$dir

#download zabbix
if [ -f &quot;zabbix-${version}.tar.gz&quot; ] ; then
echo &quot;zabbix-${version}.tar.gz has been download&quot;
else
echo &quot;download zabbix-${version}.tar.gz&quot;
wget $url
fi

#tar zabbix
if [ -d &quot;zabbix-${version}&quot; ] ; then
echo &quot;the zabbix-${version} is exist&quot;
else 
echo &quot;tar zabbix-${version}.tar.gz&quot;
tar -zxvf zabbix-${version}.tar.gz
fi

#create group if not exists  
egrep &quot;^$group&quot; /etc/group &gt;&amp; /dev/null  
if [ $? -ne 0 ]  
then  
    groupadd $group  
fi  

#create user if not exists  
egrep &quot;^$user&quot; /etc/passwd &gt;&amp; /dev/null  
if [ $? -ne 0 ]  
then  
    useradd -g $group $user  
fi  

#configure
if [ -f &quot;${zabbix_home}/sbin/zabbix_agentd&quot; ]; then
echo &quot;install success&quot;
else
cd &quot;zabbix-${version}&quot;
./configure --prefix=${zabbix_home} --enable-agent
make install
fi

echo &quot;THE zabbix_agented:  ${zabbix_home}/sbin/zabbix_agentd&quot;
echo &quot;THE conf:   ${zabbix_home}/etc/zabbix_agentd.conf&quot;


</code></pre>